{"version":3,"sources":["../src/simple-bind-x.js"],"names":[],"mappings":"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","file":"simple-bind-x.esm.js","sourcesContent":["const ERROR_MESSAGE = 'bind called on incompatible ';\nconst object = {};\nconst ObjectCtr = object.constructor;\nconst toStr = object.toString;\nconst funcType = '[object Function]';\nconst ZERO = 0;\nconst argsOffset = 2;\n\nconst getMax = function getMax(a, b) {\n  return a >= b ? a : b;\n};\n\nconst assertIsFunction = function assertIsFunction(value) {\n  if (typeof value !== 'function' && toStr.apply(value) !== funcType) {\n    throw new TypeError(ERROR_MESSAGE + value);\n  }\n};\n\nconst pushAll = function pushAll(arrayLike, from) {\n  const len = arrayLike.length;\n  /* eslint-disable-next-line prefer-rest-params */\n  const target = arguments.length > 2 ? arguments[2] : [];\n\n  for (let i = from || ZERO; i < len; i += 1) {\n    target[target.length] = arrayLike[i];\n  }\n\n  return target;\n};\n\nconst boundFns = [\n  function zero(binder) {\n    return function boundFn() {\n      /* eslint-disable-next-line babel/no-invalid-this,prefer-rest-params */\n      return binder.apply(this, pushAll(arguments));\n    };\n  },\n  function one(binder, boundLength) {\n    return function boundFn(a) {\n      /* eslint-disable-next-line babel/no-invalid-this,prefer-rest-params */\n      return binder.apply(this, pushAll(arguments, boundLength, [a]));\n    };\n  },\n  function two(binder, boundLength) {\n    return function boundFn(a, b) {\n      /* eslint-disable-next-line babel/no-invalid-this,prefer-rest-params */\n      return binder.apply(this, pushAll(arguments, boundLength, [a, b]));\n    };\n  },\n  function three(binder, boundLength) {\n    /* eslint-disable-next-line max-params */\n    return function boundFn(a, b, c) {\n      /* eslint-disable-next-line babel/no-invalid-this,prefer-rest-params */\n      return binder.apply(this, pushAll(arguments, boundLength, [a, b, c]));\n    };\n  },\n  function four(binder, boundLength) {\n    /* eslint-disable-next-line max-params */\n    return function boundFn(a, b, c, d) {\n      /* eslint-disable-next-line babel/no-invalid-this,prefer-rest-params */\n      return binder.apply(this, pushAll(arguments, boundLength, [a, b, c, d]));\n    };\n  },\n  function five(binder, boundLength) {\n    /* eslint-disable-next-line max-params */\n    return function boundFn(a, b, c, d, e) {\n      /* eslint-disable-next-line babel/no-invalid-this,prefer-rest-params */\n      return binder.apply(this, pushAll(arguments, boundLength, [a, b, c, d, e]));\n    };\n  },\n  function six(binder, boundLength) {\n    /* eslint-disable-next-line max-params */\n    return function boundFn(a, b, c, d, e, f) {\n      /* eslint-disable-next-line babel/no-invalid-this,prefer-rest-params */\n      return binder.apply(this, pushAll(arguments, boundLength, [a, b, c, d, e, f]));\n    };\n  },\n  function seven(binder, boundLength) {\n    /* eslint-disable-next-line max-params */\n    return function boundFn(a, b, c, d, e, f, g) {\n      /* eslint-disable-next-line babel/no-invalid-this,prefer-rest-params */\n      return binder.apply(this, pushAll(arguments, boundLength, [a, b, c, d, e, f, g]));\n    };\n  },\n  function eight(binder, boundLength) {\n    /* eslint-disable-next-line max-params */\n    return function boundFn(a, b, c, d, e, f, g, h) {\n      /* eslint-disable-next-line babel/no-invalid-this,prefer-rest-params */\n      return binder.apply(this, pushAll(arguments, boundLength, [a, b, c, d, e, f, g, h]));\n    };\n  },\n];\n\nconst getBoundFn = function getBoundFn(args) {\n  const [binder, target, bindArgs] = args;\n  const boundLength = getMax(ZERO, target.length - getMax(ZERO, bindArgs.length - argsOffset));\n  const fn = boundFns[boundLength];\n  const boundFn = fn ? fn(binder, boundLength) : boundFns[ZERO](binder);\n\n  if (target.prototype) {\n    /* eslint-disable-next-line lodash/prefer-noop */\n    const Empty = function Empty() {};\n\n    Empty.prototype = target.prototype;\n    boundFn.prototype = new Empty();\n    Empty.prototype = null;\n  }\n\n  return boundFn;\n};\n\nconst getResult = function getResult(target, boundArgs) {\n  /* eslint-disable-next-line babel/no-invalid-this */\n  const result = target.apply(this, boundArgs);\n\n  /* eslint-disable-next-line babel/no-invalid-this,babel/new-cap */\n  return ObjectCtr(result) === result ? result : this;\n};\n\n// eslint-disable jsdoc/check-param-names\n// noinspection JSCommentMatchesSignature\n/**\n * The bind() method creates a new function that, when called, has its this\n * keyword set to the provided value, with a given sequence of arguments\n * preceding any provided when the new function is called.\n *\n * @param {Function} target - The target function.\n * @param {*} [thisArg] - The value to be passed as the this parameter to the target\n *  function when the bound function is called. The value is ignored if the\n *  bound function is constructed using the new operator.\n * @param {...*} [args] - Arguments to prepend to arguments provided to the bound\n *  function when invoking the target function.\n * @throws {TypeError} If target is not a function.\n * @returns {Function} The bound function.\n */\n// eslint-enable jsdoc/check-param-names\nconst bind = function bind(target, thisArg) {\n  assertIsFunction(target);\n  /* eslint-disable-next-line prefer-rest-params */\n  const bindArgs = arguments;\n\n  let bound;\n  const binder = function binder() {\n    /* eslint-disable-next-line prefer-rest-params */\n    const boundArgs = pushAll(arguments, ZERO, pushAll(bindArgs, argsOffset));\n\n    /* eslint-disable-next-line babel/no-invalid-this */\n    return this instanceof bound ? getResult.apply(this, [target, boundArgs]) : target.apply(thisArg, boundArgs);\n  };\n\n  bound = getBoundFn([binder, target, bindArgs]);\n\n  return bound;\n};\n\nexport default bind;\n"]}